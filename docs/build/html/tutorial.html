
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>3. Tutorial &#8212; PyMPA 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Preprocessing Input" href="input.html" />
    <link rel="prev" title="2. PyMPA installation" href="installation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <a class="reference external image-reference" href="https://github.com/avuan/PyMPA37/releases"><img alt="pympa_logo1.png" class="align-left" src="_images/pympa_logo1.png" style="width: 100px;" /></a>
<div class="section" id="tutorial">
<h1>3. Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>This tutorial is designed to give you an overview of the capabilities and
implementation of the PyMPA Python package.</p>
<div class="section" id="downloading-seismological-data">
<h2>3.1. Downloading Seismological Data<a class="headerlink" href="#downloading-seismological-data" title="Permalink to this headline">¶</a></h2>
<p>To download seismological data from EIDA (European Integrated Data Archive) servers:
Waveform broad band data from european broad band seismic stations are available
from many others European Institutions. To download seismological data from EIDA (European Integrated Data Archive) servers
and inventory data in STATIONXML format many examples can be found in ObsPy examples.</p>
<p>PyMPA requires, continuous data and stations inventories.
EIDA servers can easily release continuous data from permanent networks and the corresponding
inventories. The examples in the subdirectory input.download_data.dir show the python scripts
that allows the download.</p>
<p>In the case your data come from other sources, PyMPA through ObsPy libraries
is able to manage most of the seismological data formats (MSEED, SAC, SEISAN, SEGY, etc..).
An inventory data file including station information needs to be created by modifying an existing
StationXML file and read that with ObsPy to perform the rest.</p>
<p>PyMPA does not use databases and prefers to store single channel daily continuous data in archieves.</p>
<p>(<span class="xref std std-doc">download_data</span>) download data</p>
</div>
<div class="section" id="create-templates">
<h2>3.2. Create Templates<a class="headerlink" href="#create-templates" title="Permalink to this headline">¶</a></h2>
<p>(<span class="xref std std-doc">create_template</span>) create templates</p>
<p>Needed files
1. Events in a catalog: e.g. templates.zmap (quakeml or zmap formats) see ObsPy for admitted formats</p>
<blockquote>
<div>cat templates.zmap</div></blockquote>
<ol class="arabic simple" start="2">
<li>Days to process: one column file including days to process e.g. lista1
cat lista1
120103
120104</li>
<li>Set parameters: e.g. trim.par
cat trim.par
#Line 1 – list of stations
#Line 2 – list of channels
#Line 3 – list of networks
#Line 4 – Lowpass frequency
#Line 5 – Highpass frequency
#Line 6 – Trimmed Time before S-wave
#Line 7 – Trimmed Time after S-wave
#Line 8 – UTC precision
#Line 9 – Continuous data dir
#Line 10 – Template data dir
#Line 11 – Processing days list
#Line 12 – Zmap catalog
#Line 13 – Starting template
#Line 14 – Stopping template
#Line 15 – Taup Model
AQU CAMP CERT FAGN FIAM GUAR INTR MNS NRCA TERO
BHE BHN BHZ
IV MN
2.0
8.0
2.5
2.5
6
24h
template
lista1
templates.zmap
26
27
aquila_kato</li>
</ol>
</div>
<div class="section" id="directories">
<h2>3.3. Directories<a class="headerlink" href="#directories" title="Permalink to this headline">¶</a></h2>
<p>./24h = include daily continuous time series
./template = output trimmed templates</p>
</div>
<div class="section" id="velocity-model-use-to-compute-travel-times">
<h2>3.4. Velocity Model use to compute travel times<a class="headerlink" href="#velocity-model-use-to-compute-travel-times" title="Permalink to this headline">¶</a></h2>
<p>cat aquila_kato.tvel
aquila
depth P vel. S vel. density older density</p>
<blockquote>
<div><blockquote>
<div>0.000      3.7500      2.1650      2.4500
1.500      3.7500      2.1710      2.4500
1.510      4.9400      2.8520      2.7800
4.510      4.9400      2.8580      2.7800
4.520      6.0100      3.2790      2.7600</div></blockquote>
<p>14.520      6.0100      3.2850      2.7600
14.530      5.5500      3.3950      2.9100
29.530      5.5500      3.4010      2.9100
29.540      5.8800      4.0990      3.1000
43.540      5.8800      4.1050      3.1000
43.550      5.8800      4.5610      3.1000
57.500      5.8800      3.3600      3.1000
57.500      7.1100      4.0100      3.2300
93.000      7.1100      4.0100      3.2300
93.000      7.1000      3.9900      3.3000</p>
</div></blockquote>
</div>
<div class="section" id="check-template-quality">
<h2>3.5. Check Template Quality<a class="headerlink" href="#check-template-quality" title="Permalink to this headline">¶</a></h2>
<p>(<span class="xref std std-doc">template_check</span>) select good templates</p>
</div>
<div class="section" id="calculate-travel-times">
<h2>3.6. Calculate Travel Times<a class="headerlink" href="#calculate-travel-times" title="Permalink to this headline">¶</a></h2>
<p>(<span class="xref std std-doc">calculate_ttimes</span>) calculate travel times</p>
</div>
<div class="section" id="running-pympa">
<h2>3.7. Running PyMPA<a class="headerlink" href="#running-pympa" title="Permalink to this headline">¶</a></h2>
<p>(<span class="xref std std-doc">main.pympa_chunks_channel_limit</span>) run pympa</p>
</div>
<div class="section" id="output-processing">
<h2>3.8. Output Processing<a class="headerlink" href="#output-processing" title="Permalink to this headline">¶</a></h2>
<p>(<span class="xref std std-doc">output.process_detections</span>) controls multiple detections in short time windows</p>
</div>
<div class="section" id="verify-detections">
<h2>3.9. Verify Detections<a class="headerlink" href="#verify-detections" title="Permalink to this headline">¶</a></h2>
<p>(<span class="xref std std-doc">output.verify_detection</span>) visual verification of events</p>
</div>
<div class="section" id="references">
<h2>3.10. References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>Shelly, D. R., G. C. Beroza, and S. Ide (2007). Non-volcanic tremor and low
frequency earthquake swarms, Nature 446, 305–307.</p>
<p>Peng, Z., and P. Zhao (2009). Migration of early aftershocks following the
2004 Parkfield earthquake, Nature Geosci. 2, 877–881.</p>
<p>Yang, H., L. Zhu, and R. Chu (2009). Fault-plane determination of the
18 April 2008 Mount Carmel, Illinois, earthquake by detecting and
relocating aftershocks, Bull. Seismol. Soc. Am. 99, 3413–3420.</p>
<p>Kato, A., K. Obara, T. Igarashi, H. Tsuruoka, S. Nakagawa, and N. Hirata
(2012). Propagation of slow slip leading up to the 2011 Mw 9.0
Tohoku-Oki earthquake, Science 335, 705–708.</p>
<p>Zhang, M., and L. Wen (2015). An effective method for small event detection:
Match and locate (M&amp;L), Geophys. J. Int. 200, 1523–1537.</p>
<p>Krischer, L., T. Megies, R. Barsch, M. Beyreuther, T. Lecocq, C. Caudron,
and J. Wassermann (2015). ObsPy: A bridge for seismology into the
scientific Python ecosystem, Comput. Sci. Discov. 8, no. 1, 014003,
doi: 10.1088/1749-4699/8/1/014003.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PyMPA</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction to the PyMPA package</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. PyMPA installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#downloading-seismological-data">3.1. Downloading Seismological Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-templates">3.2. Create Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#directories">3.3. Directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#velocity-model-use-to-compute-travel-times">3.4. Velocity Model use to compute travel times</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-template-quality">3.5. Check Template Quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="#calculate-travel-times">3.6. Calculate Travel Times</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-pympa">3.7. Running PyMPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output-processing">3.8. Output Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#verify-detections">3.9. Verify Detections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">3.10. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="input.html">4. Preprocessing Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html">5. Main Program</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">6. Creting an output catalog and verify detections</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="installation.html" title="previous chapter">2. PyMPA installation</a></li>
      <li>Next: <a href="input.html" title="next chapter">4. Preprocessing Input</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Alessandro Vuan.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/tutorial.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>