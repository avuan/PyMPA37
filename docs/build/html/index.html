
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Python Matching Phase Algorithm &#8212; PyMPA 1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1. Introduction to the PyMPA package" href="intro.html" />
    <link rel="shortcut icon" type="image/png" href="_static/py.png" />
    
    <script type="text/javascript" src="_static/copybutton.js"></script>
    
     

  </head><body>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="intro.html" title="1. Introduction to the PyMPA package"
             accesskey="N">next</a> |</li>
    <li><img src="_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.python.org/">Python</a> &#187;</li>
    
    <a href="#">PyMPA 1.0.0 documentation</a> &#187;
    

    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <a class="reference external image-reference" href="https://github.com/avuan/PyMPA37/docs"><img alt="pympa_logo1.png" class="align-left" src="_images/pympa_logo1.png" style="width: 100px;" /></a>
<div class="section" id="python-matching-phase-algorithm">
<h1>Python Matching Phase Algorithm<a class="headerlink" href="#python-matching-phase-algorithm" title="Permalink to this headline">¶</a></h1>
<p>PyMPA is designed to detect microseismicity from the cross-correlation of continuous data and templates. PyMPA is an open source seismological software and consists of some separate utilities for input preparation, the main program, and output post-processing tools to obtain a catalogue and verify events. The code repository with some examples is stored on <a href="https://github.com/avuan/PyMPA37" target="_blank">github</a>, and is free to be cloned on your Mac, Windows or Linux platforms. It supports Python 2.7, 3.5, 3.6 and 3.7 releases and uses ObsPy for reading and writing seismic data, and for handling most of the event-station metadata. A flowchart of the main program is shown in Figure 1. Matched-filter correlations are calculated using a vectorised python function or using ObsPy v.1.2.0 correlate_template function allowing to select time or frequency domain.
Together with the manual, we also provide some practical examples. Python scripts, updates and modifications are automatically verified using TRAVIS, for testing and deployment (<a class="reference external" href="https://travis-ci.org/">https://travis-ci.org/</a>). This package is distributed under the LGPL GNU Licence, Copyright PyMPA developers 2019.</p>
<p>The algorithm, which exploits <a href="https://github.com/obspy/obspy/wiki" target="_blank">ObsPy</a> routines (Krischer et al., 2015), is versatile and supports most commonly used seismic data and earthquake catalogue formats. In addition to PyMPA, we develop other tools external to the main code to manage the input-output preparation and validation for (1) downloading data from Observatories and Research Facilities for European Seismology–European Integrated Data Archive (ORFEUS-EIDA) servers, (2) evaluating data quality, (3) selecting earthquakes as templates from a reference catalog, (4) trimming and filtering them from continuous waveforms, (5) avoiding redundant detections in the output, and (6) validating new events. The repository will continue to grow and develop, and any modification will be promptly reported.</p>
<p>Important: we recommend to use an updated version of <a href="https://github.com/obspy/obspy/wiki" target="_blank">ObsPy</a>.</p>
<div class="figure align-left">
<a class="reference internal image-reference" href="_images/pympa_logo.png"><img alt="_images/pympa_logo.png" src="_images/pympa_logo.png" style="width: 800px;" /></a>
</div>
<p>This package contains:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sub/input.download_data.html"><span class="doc">Routines for downloading data from eida servers</span></a>;</p></li>
<li><p><a class="reference internal" href="sub/input.create_templates.html"><span class="doc">Routines for creating and trimming templates</span></a>;</p></li>
<li><p><a class="reference internal" href="sub/input.calculate_ttimes.html"><span class="doc">Routines for calculating moveout time for synchronization</span></a>;</p></li>
<li><p><a class="reference internal" href="sub/input.template_check.html"><span class="doc">Kurtosis based template verification</span></a>;</p></li>
<li><p><a class="reference internal" href="sub/main.pympa.html"><span class="doc">Template matching by using daily estimation of MAD and all the available channels</span></a>;</p></li>
<li><p><a class="reference internal" href="sub/output.process_detections.html"><span class="doc">Postprocessing routines</span></a>;</p></li>
<li><p><a class="reference internal" href="sub/output.verify_detection.html"><span class="doc">Visual verification of detections</span></a>;</p></li>
</ul>
<p>This package is written by the PyMPA developers, and is distributed under the LGPL GNU Licence, Copyright PyMPA developers 2019.</p>
<p>Acknowledgements</p>
<p>The software development was partially funded by a joint research project within the
executive program of scientific and technological cooperation between Italy
and Japan for the period 2013–2015. Additional funds for software development
come from the project “Seismology and Earthquake Engineering
Research Infrastructure Alliance for Europe” (SERA), responding to the priorities
identified in the call INFRAIA-01-2016-2017 Research Infrastructure
for Earthquake Hazard. We thank Monica Sugan for the extensive testing of the codes and Aitaro Kato
at the Earthquake Research Institute (ERI) in Tokyo for fruitful
discussions.
The authors also wish to thank the ObsPy community for the continuous
support and constant development of related libraries.</p>
<p>Citation</p>
<p>If you use this package in your work, please cite the following papers:</p>
<p>Vuan A., Sugan M., Amati G., Kato A., 2017 - Improving the Detection of Low-Magnitude Seismicity Preceding the Mw 6.3 L’Aquila Earthquake: Development of a Scalable Code Based on the Cross-Correlation of Template Earthquakes, BSSA <a class="reference external" href="https://pubs.geoscienceworld.org/ssa/bssa/article-abstract/525813/improving-the-detection-of-low-magnitude?redirectedFrom=fulltext">https://pubs.geoscienceworld.org/ssa/bssa/article-abstract/525813/improving-the-detection-of-low-magnitude?redirectedFrom=fulltext</a></p>
<p>Vuan A., Sugan M., Chiaraluce L., Di Stefano R., 2017 - Loading rate variations along a mid-crustal shear zone preceding the MW6.0 earthquake of the 24th of August 2016 in Central Italy, Geophysical Research Letters <a class="reference external" href="http://onlinelibrary.wiley.com/doi/10.1002/2017GL076223/full">http://onlinelibrary.wiley.com/doi/10.1002/2017GL076223/full</a></p>
<p>Sugan, M., Vuan, A., Kato, A., Massa, M., &amp; Amati, G. (2019). Seismic evidence of an early afterslip during the 2012 sequence in Emilia (Italy). Geophysical Research Letters, 46, 625–635. <a class="reference external" href="https://doi.org/10.1029/2018GL079617">https://doi.org/10.1029/2018GL079617</a></p>
<p>Contents</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction to the PyMPA package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="intro.html#motivation">1.1. Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#supported-environments">1.2. Supported environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#functionality">1.3. Functionality</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#running-tests">1.4. Running tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#references">1.5. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. PyMPA installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">3. Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#downloading-seismological-data">3.1. Downloading Seismological Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#create-templates">3.2. Create Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#check-template-quality">3.3. Check Template Quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#calculate-travel-times">3.4. Calculate Travel Times</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#running-pympa">3.5. Running PyMPA</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#output-processing">3.6. Output Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#verify-detections">3.7. Verify Detections</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#references">3.8. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="input.html">4. Preprocessing Input</a><ul>
<li class="toctree-l2"><a class="reference internal" href="input.html#contents">4.1. Contents:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="main.html">5. Main Program</a><ul>
<li class="toctree-l2"><a class="reference internal" href="main.html#contents">5.1. Contents:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="output.html">6. Creating an output catalog and verify detections</a><ul>
<li class="toctree-l2"><a class="reference internal" href="output.html#contents">6.1. Contents:</a></li>
</ul>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Next topic</h4>
  <p class="topless"><a href="intro.html"
                        title="next chapter">1. Introduction to the PyMPA package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="intro.html" title="1. Introduction to the PyMPA package"
             >next</a> |</li>
    <li><img src="_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.python.org/">Python</a> &#187;</li>
    
    <a href="#">PyMPA 1.0.0 documentation</a> &#187;
    

    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="copyright.html">Copyright</a> 2019, Alessandro Vuan and Monica Sugan.
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    Last updated on None.
    
    <br />

    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.0.0b1.
    </div>

  </body>
</html>